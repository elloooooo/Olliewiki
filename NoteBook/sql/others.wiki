= 一些知识点 =
== 乐观锁与悲观锁 ==
=== 悲观锁 ===
*定义* ：对数据被外界修改持保守态度，在整个数据处理过程中，将数据处于锁定状态，依靠数据库提供的锁机制保证数据访问的排他性。

*优缺点* ：数据库提供的锁机制可以提供最大的数据独占性，但是同时也会带来性能的开销，尤其对于长事务。
=== 乐观锁 ===
*定义* ：乐观锁大多是基于数据库表的版本标识，确定即将更新的数据的有效性。数据被读出时，Version为+1，数据写回时会，检查该数据数据表中的Version字段是否小于要写回数据的Version值，如果小于则是有效值，可以更新，否则驳回更新。

*优缺点*  ：乐观锁的实现是在本系统中，来自外部系统的更新世不受此限制，所以仍有可能将脏数据更新进数据库。所以一种解决办法就是将乐观锁策略实现在数据库存储过程中，对外只开放基于此存储过程的数据更新途径。

== 关于主键自增 ==
Mysql可以设置主键自增
=== 主键序列如何清零 ===
# 清除这个表的数据 `TRUNCATE TABLE testTable`，但是如果主键作为其他表的外键，那么你是无法`truncate`这个表的
# 删除主键，重新设置主键自增
# `ALTER TABLE occupations AUTO_INCREMENT=1` 后面的数字就是你希望主键开始的值
